webpackJsonp([21],{"8U0T":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("2BTM");var i={data:function(){return{name:"",email:"",password:"",phone:"",time:"",cardName:"",cardId:"",card:"",cardTitle:"",people:"",zfb:"",remark:"",checked:!0,show:!1,actions:[],url:""}},created:function(){var t=this;this.time=this.$store.state.geren.phone,this.url="http://www.cxzjpec.com/#/zhuce/"+this.time,this.showLoading().$post({cmd:"getBankList"}).then(function(e){return 0==e.result&&(t.$toast.clear(),t.actions=e.dataList,t.cardName=e.dataList[0].name,t.cardId=e.dataList[0].id),t.$post({cmd:"getUserInfo",uid:t.$store.state.uid||window.sessionStorage.getItem("uid")})}).then(function(e){0==e.result&&(t.time=e.phone,t.url="http://www.cxzjpec.com/#/zhuce/"+e.phone)})},methods:{save:function(){var t=this.$refs.inp;t.select(),t.setSelectionRange(0,9999),document.execCommand("copy")&&(document.execCommand("copy"),this.showToast("复制成功"))},onSelect:function(t){this.show=!1,this.cardName=t.name,this.cardId=t.id},showList:function(){this.show=!0},sub:function(){var t=this;this.name&&/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.email)&&this.phone&&this.password&&/^[\w_-]{6,16}$/.test(this.password)&&/^[0-9]{11}$/.test(this.phone)&&/^([1-9]{1})(\d{14}|\d{18})$/.test(this.card)&&this.time&&/^[0-9]{11}$/.test(this.time)&&this.card&&this.people?this.checked?this.showLoading("正在提交信息").$post({cmd:"register",nickName:this.name,email:this.email,phone:this.phone,password:this.password,parentPhone:this.time,bankId:this.cardId,bankNumber:this.card,branch:this.cardTitle,userName:this.people,alipay:this.zfb,remark:this.remark}).then(function(e){t.$toast.clear(),0==e.result?(t.showToast("注册成功"),t.$router.go(-1)):t.showToast(e.resultNote)}):this.showToast("请勾选同意警告"):this.showToast("请填写完整或者正确信息，方便后面操作")}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-head"),t._v(" "),a("div",{staticClass:"s_6"}),t._v(" "),a("div",{staticStyle:{width:"90%",margin:"0 auto","border-left":"1px solid #ebedf0","border-right":"1px solid #ebedf0"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"我的分享链接(点击复制)",label:t.url},on:{click:t.save}})],1)],1),t._v(" "),a("input",{ref:"inp",staticStyle:{height:"0",padding:"0",margin:"0",border:"none",visibility:"none",opacity:"0"},attrs:{type:"text",readonly:""},domProps:{value:t.url}}),t._v(" "),a("div",{staticClass:"s_2"}),t._v(" "),a("div",{staticClass:"xv_1"},[a("q-panel",[a("div",{staticClass:"xv_2"},[t._v("会员信息")]),t._v(" "),a("div",{staticClass:"s_2"}),t._v(" "),a("van-cell-group",[a("van-field",{attrs:{label:"姓名(昵称)：","label-align":"right","input-align":"left"},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}}),t._v(" "),a("van-field",{attrs:{label:"邮箱(账号)：","label-align":"right","input-align":"left"},model:{value:t.email,callback:function(e){t.email="string"==typeof e?e.trim():e},expression:"email"}}),t._v(" "),a("van-field",{attrs:{type:"number",label:"手机号：","label-align":"right","input-align":"left","max-length":"11"},model:{value:t.phone,callback:function(e){t.phone="string"==typeof e?e.trim():e},expression:"phone"}}),t._v(" "),a("van-field",{attrs:{type:"password",label:"密码：","label-align":"right","input-align":"left"},model:{value:t.password,callback:function(e){t.password="string"==typeof e?e.trim():e},expression:"password"}}),t._v(" "),a("van-field",{attrs:{type:"number",readonly:"",label:"推荐人：","label-align":"right","input-align":"left"},model:{value:t.time,callback:function(e){t.time="string"==typeof e?e.trim():e},expression:"time"}})],1),t._v(" "),a("div",{staticClass:"s_2"})],1)],1),t._v(" "),a("div",{staticClass:"s_4"}),t._v(" "),a("div",{staticClass:"xv_1"},[a("q-panel",[a("div",{staticClass:"xv_2"},[t._v("银行卡信息")]),t._v(" "),a("div",{staticClass:"s_2"}),t._v(" "),a("van-cell-group",[a("van-field",{attrs:{label:"选择银行卡：",readonly:"","label-align":"right","right-icon":"arrow-down","input-align":"left"},on:{click:t.showList},model:{value:t.cardName,callback:function(e){t.cardName="string"==typeof e?e.trim():e},expression:"cardName"}}),t._v(" "),a("van-field",{attrs:{type:"number",label:"卡号：","label-align":"right","input-align":"left"},model:{value:t.card,callback:function(e){t.card="string"==typeof e?e.trim():e},expression:"card"}}),t._v(" "),a("van-field",{attrs:{type:"text",label:"支行名称：","label-align":"right","input-align":"left"},model:{value:t.cardTitle,callback:function(e){t.cardTitle="string"==typeof e?e.trim():e},expression:"cardTitle"}}),t._v(" "),a("van-field",{attrs:{label:"持卡人：","label-align":"right","input-align":"left"},model:{value:t.people,callback:function(e){t.people="string"==typeof e?e.trim():e},expression:"people"}}),t._v(" "),a("van-field",{attrs:{label:"支付宝：",placeholder:"选填，不填写也可以注册","label-align":"right","input-align":"left"},model:{value:t.zfb,callback:function(e){t.zfb="string"==typeof e?e.trim():e},expression:"zfb"}}),t._v(" "),a("van-field",{attrs:{label:"备注：",placeholder:"选填，不填写也可以注册","label-align":"right","input-align":"left"},model:{value:t.remark,callback:function(e){t.remark="string"==typeof e?e.trim():e},expression:"remark"}})],1),t._v(" "),a("div",{staticClass:"s_2"})],1)],1),t._v(" "),a("div",{staticClass:"s_3"}),t._v(" "),a("div",{staticClass:"xv_3"},[a("van-checkbox",{attrs:{shape:"square"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),t._v(" "),a("div",{staticClass:"xv_4"},[t._v("我已同意警告，已完全了解风险的存在并愿意承担可能的风险.")])],1),t._v(" "),a("div",{staticClass:"s_3"}),t._v(" "),a("q-button",{attrs:{text:"提交注册"},on:{click:t.sub}}),t._v(" "),a("div",{staticClass:"s_4"}),t._v(" "),a("div",[a("van-actionsheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,s,!1,function(t){a("wZP1")},"data-v-3faec68d",null);e.default=l.exports},wZP1:function(t,e){}});
//# sourceMappingURL=21.df95cdb0822fc62fc4cf.js.map