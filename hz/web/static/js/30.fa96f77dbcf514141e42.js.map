{"version":3,"sources":["webpack:///src/components/shoplist.vue","webpack:///./src/components/shoplist.vue?7199","webpack:///./src/components/shoplist.vue"],"names":["shoplist","data","list","totalPage","isload","page","imageURL","created","this","_getList","window","onscroll","isend","document","body","scrollTop","documentElement","compatMode","clientHeight","scrollHeight","bind","methods","_this","showLoading","$post","cmd","nowPage","then","res","result","$toast","clear","concat","dataList","showToast","resultNote","gotoIn","components_shoplist","render","_vm","_h","$createElement","_c","_self","_v","staticClass","_e","staticStyle","text-align","line-height","_l","item","index","key","attrs","price","desc","title","name","thumb","image","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"sGAoBA,IAAAA,GACAC,KADA,WAEA,OACAC,QACAC,UAAA,EAEAC,QAAA,EAEAC,KAAA,EACAC,SAAA,4BAGAC,QAZA,WAaAC,KAAAC,WACAC,OAAAC,SAAA,WACAH,KAAAJ,SAAAI,KAAAI,SAIAC,SAAAC,KAAAC,WAAAF,SAAAG,gBAAAD,aAEA,cAAAF,SAAAI,WACAJ,SAAAG,gBAAAE,aACAL,SAAAC,KAAAI,cAGA,SADAL,SAAAC,KAAAK,cAAAN,SAAAG,gBAAAG,cACA,GACAX,KAAAC,aAEAW,KAAAZ,OAEAa,SACAZ,SADA,WACA,IAAAa,EAAAd,KACAA,KAAAJ,SAGA,GAAAI,KAAAH,MAAAG,KAAAH,KAAAG,KAAAL,YAGAK,KAAAJ,QAAA,EACAI,KAAAe,cACAC,OACAC,IAAA,mBACAC,QAAAlB,KAAAH,OAEAsB,KAAA,SAAAC,GACA,GAAAA,EAAAC,QACAP,EAAAjB,KAAAiB,EAAAjB,KAAA,EACAiB,EAAAlB,QAAA,EACAkB,EAAAQ,OAAAC,QACAT,EAAApB,KAAAoB,EAAApB,KAAA8B,OAAAJ,EAAAK,UACAX,EAAAnB,UAAAyB,EAAAzB,WAEAmB,EAAAY,UAAAN,EAAAO,iBAIAC,OA1BA,WA2BA5B,KAAA0B,UAAA,YC3EeG,GADEC,OAFjB,WAA0B,IAAAC,EAAA/B,KAAagC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAAAH,EAAAK,GAAA,KAAAF,EAAA,OAAoDG,YAAA,QAAkBN,EAAAK,GAAA,KAAAL,EAAArC,KAAA,GAAgGqC,EAAAO,KAAhGJ,EAAA,OAAuCK,aAAaC,aAAA,SAAAC,cAAA,UAA4CV,EAAAK,GAAA,UAAAL,EAAAK,GAAA,KAAAL,EAAArC,KAAA,GAAAwC,EAAA,MAAAH,EAAAW,GAAAX,EAAA,cAAAY,EAAAC,GAAsG,OAAAV,EAAA,YAAsBW,IAAAD,EAAAE,OAAiBC,MAAAJ,EAAAI,MAAAC,KAAA,IAAAC,MAAAN,EAAAO,KAAAC,MAAAR,EAAAS,OAAmEC,IAAKC,MAAAvB,EAAAH,YAAsB,GAAAG,EAAAO,MAAA,IAEzdiB,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACElE,EACAqC,GATF,EAEA,KAEA,KAEA,MAUe8B,EAAA,QAAAH,EAAiB","file":"static/js/30.fa96f77dbcf514141e42.js","sourcesContent":["<template>\r\n  <div>\r\n    <q-head></q-head>\r\n    <div class=\"s_5\"></div>\r\n    <div v-if=\"!list[0]\" style=\"text-align:center;line-height:2rem;\">暂无商品</div>\r\n    <div v-if=\"list[0]\">\r\n      <van-card\r\n        v-for=\"(item,index) in list\"\r\n        v-bind:key=\"index\"\r\n        :price=\"item.price\"\r\n        desc=\" \"\r\n        :title=\"item.name\"\r\n        :thumb=\"item.image\"\r\n        @click=\"gotoIn\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      totalPage: 0,\r\n      // 是否加载完成\r\n      isload: true,\r\n      // 列表当前页数\r\n      page: 1,\r\n      imageURL: \"../static/images/10.png\"\r\n    };\r\n  },\r\n  created() {\r\n    this._getList();\r\n    window.onscroll = function() {\r\n      if (!this.isload || this.isend) {\r\n        return;\r\n      }\r\n      var scrollTop =\r\n        document.body.scrollTop || document.documentElement.scrollTop;\r\n      var clientHeight =\r\n        document.compatMode == \"CSS1Compat\"\r\n          ? document.documentElement.clientHeight\r\n          : document.body.clientHeight;\r\n      var scrollHeight =\r\n        document.body.scrollHeight || document.documentElement.scrollHeight;\r\n      if (scrollTop + (clientHeight - 0) + 100 >= scrollHeight - 0) {\r\n        this._getList();\r\n      }\r\n    }.bind(this);\r\n  },\r\n  methods: {\r\n    _getList() {\r\n      if (!this.isload) {\r\n        return;\r\n      }\r\n      if (this.page != 1 && this.page > this.totalPage) {\r\n        return;\r\n      }\r\n      this.isload = false;\r\n      this.showLoading()\r\n        .$post({\r\n          cmd: \"getCommodityList\",\r\n          nowPage: this.page\r\n        })\r\n        .then(res => {\r\n          if (res.result == 0) {\r\n            this.page = this.page + 1;\r\n            this.isload = true;\r\n            this.$toast.clear();\r\n            this.list = this.list.concat(res.dataList);\r\n            this.totalPage = res.totalPage;\r\n          } else {\r\n            this.showToast(res.resultNote);\r\n          }\r\n        });\r\n    },\r\n    gotoIn() {\r\n      this.showToast(\"正在开发中\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/shoplist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-head'),_vm._v(\" \"),_c('div',{staticClass:\"s_5\"}),_vm._v(\" \"),(!_vm.list[0])?_c('div',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"2rem\"}},[_vm._v(\"暂无商品\")]):_vm._e(),_vm._v(\" \"),(_vm.list[0])?_c('div',_vm._l((_vm.list),function(item,index){return _c('van-card',{key:index,attrs:{\"price\":item.price,\"desc\":\" \",\"title\":item.name,\"thumb\":item.image},on:{\"click\":_vm.gotoIn}})}),1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29387382\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shoplist.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoplist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoplist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29387382\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./shoplist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shoplist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}